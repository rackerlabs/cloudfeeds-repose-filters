<?xml version="1.0" encoding="UTF-8"?>
<!-- To configure Repose see: http://wiki.openrepose.org/display/REPOSE/Configuration -->
<system-model xmlns="http://docs.openrepose.org/repose/system-model/v2.0">
    <nodes>
        <node id="repose_atom-app-n01" hostname="localhost" http-port="9090"/>
    </nodes>
    <filters>
      <filter name="slf4j-http-logging" />
      <filter name="uri-normalization" />
      <filter name="header-normalization" />
      <filter name="ip-user" />
      <filter name="rate-limiting" />
      <filter name="keystone-v2-basic-auth" />
      <filter name="keystone-v2" />
      <filter name="url-extractor-to-header" />
      <filter name="keystone-v2-authorization" />
      <filter configuration="header-translation.cfg.xml" name="header-translation" />
      <filter configuration="user-rate-limiting.cfg.xml" name="rate-limiting" />
      <filter name="json-xml-filter" />
      <filter name="api-validator" />
      <filter name="herp" uri-regex=".+/events/.*" />
      <filter name="derp" />
      <filter configuration="header-normalization-karate.cfg.xml" name="header-normalization" />
      <filter name="destination-router" uri-regex="/" configuration="destination-router-catalog.cfg.xml"/>
    </filters>

    <services>
      <!--service name="dist-datastore" /-->
    </services>
    <destinations>
      <endpoint  id="atom_vip" protocol="http" hostname="{$ atomhopper_hostname $}" root-path="" port="8080" default="true"/>
      <endpoint id="catalog" protocol="http" hostname="{$ catalog_hostname $}" root-path="/catalog" port="8080" default="false"/>
    </destinations>
</system-model>

